% How to do quick maths tutorial (HD).
% The lines in the derivations are just fraction lines (made with \cfrac{}{}).
% Sideways T (turnstile - bom in Danish) is \vdash.
% The weird, tall "<" ">" brackets are \langle and \rangle.

\section{Semantics of HCL}
%Introduction -- Contains all asumptions -> Environment, Store Model.
%										    Fully static scope rules.
%											Rundown of content.

\subsection{Abstract Syntax}
%Quick introduction.

\subsection{Big-Step Semantic for Expressions}
%Quick introduction.
\textbf{Assignment}\\
\begin{math}
	env_v, env_p \vdash \langle x := e, sto \rangle \rightarrow sto[l \mapsto v]\\
	\texttt{where } env_v, sto \vdash e \rightarrow_e v
	\texttt{ and } env_v \ x = l
\end{math}

\textbf{Parentheses}\\
\begin{math}
	\cfrac{env_v, sto \vdash e \rightarrow_e v}
	{env_v, sto \vdash (e) \rightarrow_e v}
\end{math}

\textbf{Variables}\\
\begin{math}
	env_v, sto \vdash x \rightarrow_e v\\
	\texttt{if } env_v \ x = l
	\texttt{ and } sto \ l = v
\end{math}

\textbf{Plus}\\
\begin{math}
	\cfrac{env_v, sto \vdash a_1 \rightarrow_a v_1 \quad env_v, sto \vdash a_2 \rightarrow_a v_2}
	{env_v, sto \vdash a_1 + a_2 \rightarrow_a v}\\
	\texttt{where } v = v_1 + v_2
\end{math}

\textbf{Logical AND $\rightarrow$ true}\\
\begin{math}
	\cfrac{env_v, sto \vdash b_1 \rightarrow_b true \quad env_v, sto \vdash b_2 \rightarrow_b true}
	{env_v, sto \vdash b_1 \wedge b_2 \rightarrow_b true}
\end{math}

\textbf{Logical AND $\rightarrow$ false}\\
\begin{math}
	\cfrac{env_v, sto \vdash b_i \rightarrow_b false}{env_v, sto \vdash b_1 \wedge b_2 \rightarrow_b false} \quad i \in \{1,2\}
\end{math}

\subsection{Big-Step Semantic for Statements}
%Quick introduction.

\subsection{Big-Step Semantic for Variable Declarations}
%Quick introduction.
\textbf{Declaration and assignment}\\
\begin{math}
	\cfrac{env_p \vdash \langle D_v, \ env_v[x \mapsto l][next \mapsto l'], \ sto[l \mapsto v] \rangle \rightarrow (env_v', sto')}{env_p \vdash \langle T \ x := e; \ D_v, \ env_v, \ sto \rangle \rightarrow (env_v', \ sto')}\\
	\texttt{where } env_v, \ sto \vdash e \rightarrow_e v\\
	\texttt{and } l = env_v \ next\\
	\texttt{and } l' = new \ l
\end{math}

\textbf{Declaration without assignment}\\
\begin{math}
	\cfrac{env_p \vdash \langle D_v, \ env_v[x \mapsto l][next \mapsto l'], \ sto \rangle \rightarrow (env_v', sto)}{env_p \vdash \langle T \ x; \ D_v, \ env_v, \ sto \rangle \rightarrow (env_v', sto)}\\
	\texttt{where } l = env_v \ next\\
	\texttt{and } l' = new \ l
\end{math}

\textbf{Empty declaration}\\
\begin{math}
	env_p \vdash \langle \epsilon, \ env_v, \ sto \rangle \rightarrow (env_v, sto)
\end{math}

\subsection{Big-Step Semantic for Procedure Declarations}
%Quick introduction.

%Conclusion.