% !TeX root = ../main.tex
%Content includes all type rules in HCL
%Should be a relatively short section, since much of the content is self explanatory.
\section{Type Rules}
To ensure that any program written in HCL runs correctly after compilation, the language follows certain type rules.


\subsection{Type Rules for Expressions}
%quick introduction.
\textbf{Num type}\\
\begin{center}
	\begin{math}
		E \vdash n : num
	\end{math}
\end{center}

\textbf{Bool type}\\
\begin{center}
	\begin{math}
	E \vdash b : bool
	\end{math}
\end{center}

\textbf{Txt type}\\
\begin{center}
	\begin{math}
	E \vdash t : txt
	\end{math}
\end{center}

\textbf{List type}\\
\begin{center}
	\begin{math}
	E \vdash lst : list[T]
	\end{math}
	\\[1\baselineskip]
	\texttt{where} $T \notin \{none, var, generic\}$
\end{center}

\textbf{Tuple type}\\
\begin{center}
	\begin{math}
	E \vdash tpl : tuple[T_1, \ .
	.
	.
	\ ,\ T_k]
	\end{math}
	\\[1\baselineskip]
	\texttt{where} $T_i \notin \{none, var, generic\}$\\
	\texttt{and} $k > 0$
\end{center}

\textbf{Function type}\\
\begin{center}
	\begin{math}
	E \vdash f : func[T_1,\ .
	.
	.
	\ ,\ T_k]
	\end{math}
	\\[1\baselineskip]
	\texttt{where for each} $T \in \{T_1,\ .
	.
	.
	\ ,\ T_{k-1}\}\ T \notin \{none, var\}$\\
	\texttt{and} $T_k \notin \{var\}$\\
	\texttt{and} $k > 0$
\end{center}

\textbf{Function call}\\
\begin{center}
	\begin{math}
		\cfrac
		{E \vdash e_1 : T_1 \ .
		.
		.
		\ E \vdash e_k : T_k}
		{E \vdash e_1\ f\ e_2 \ .
		.
		.
		\ e_k : T_f}
	\end{math}
	\\[1\baselineskip]
	\texttt{where} $f$ is a function identifier\\
	$e_1\ .
	.
	.
	\ e_k$ are the expressions passed to function $f$\\
	\texttt{and} $T_1\ .
	.
	.
	\ T_k$ are the types of the formal parameters of $f$\\
	\texttt{and} $T_f$ is the return type of $f$\\
	\texttt{and} $k >= 0$
\end{center}



\subsection{Type Rules for Statements}
%quick introduction.
\textbf{Explicit variable declaration}\\
\begin{center}
	\begin{math}
		\cfrac
		{E \vdash e : T}
		{E \vdash T\ x = e : \texttt{ok}}
	\end{math}
	\\[1\baselineskip]
	\texttt{where} $T \in \{num, bool, txt, list, tuple\}$
\end{center}

\textbf{Explicit function declaration}\\
\begin{center}
	\begin{math}
		\cfrac
		{E\vdash S : \texttt{ok}\quad E \vdash U_1 : T_1\
			.
			.
			.
			\ E \vdash U_k : T_k}
		{E \vdash func[T_1\
			.
			.
			.
			\ T_k]\ f = (U_1\ p_1\
			.
			.
			.
			\ U_{k-1}\ p_{k-1}): U_k\ \{ S \} : \texttt{ok}}
	\end{math}
	\\[1\baselineskip]
	\texttt{where for each} $T \in \{T_1,\ .
	.
	.
	\ ,\ T_{k-1}\}\ T \notin \{none, var\}$\\
	\texttt{and} $T_k \notin \{var\}$
\end{center}

\textbf{Implicit function declaration}\\
\begin{center}
	\begin{math}
		\cfrac
		{E\vdash S : \texttt{ok}\quad}
		{E \vdash func\ f = (T_1\ p_1\
		.
		.
		.
		\ T_{k-1}\ p_{k-1}): T_k\ \{ S \} : \texttt{ok}}
	\end{math}
	\\[1\baselineskip]
	\texttt{where for each} $T \in \{T_1,\ .
	.
	.
	\ ,\ T_{k-1}\}\ T \notin \{none, var\}$\\
	\texttt{and} $T_k \notin \{var\}$
\end{center}

%Conclusion.

